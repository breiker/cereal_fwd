<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cereal_fwd: cereal::extendable_binary_detail::StreamAdapter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cereal_fwd
   </div>
   <div id="projectbrief">Fork of cereal library adding archive supporting forward compatibility</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cereal</b></li><li class="navelem"><b>extendable_binary_detail</b></li><li class="navelem"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html">StreamAdapter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cereal::extendable_binary_detail::StreamAdapter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class used as an adapter to queue of streams.  
 <a href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="extendable__binary__details_8hpp_source.html">/home/breiker/code/git/cereal_fwd_github/include/cereal/details/extendable_binary_details.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adfec726f8f400ba024ed0571b322ce5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#adfec726f8f400ba024ed0571b322ce5f">StreamAdapter</a> (std::istream &amp;stream, std::stringstream &amp;sharedObjectStream, std::size_t maxBytesInSharedStream)</td></tr>
<tr class="memdesc:adfec726f8f400ba024ed0571b322ce5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct new object with main and secondary stream.  <a href="#adfec726f8f400ba024ed0571b322ce5f">More...</a><br /></td></tr>
<tr class="separator:adfec726f8f400ba024ed0571b322ce5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8175190df2ece4526a790d62bde6bdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#aa8175190df2ece4526a790d62bde6bdb">pushReadingPos</a> (<a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html">StreamPos</a> &amp;streamPos)</td></tr>
<tr class="memdesc:aa8175190df2ece4526a790d62bde6bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes new reading position on the stream.  <a href="#aa8175190df2ece4526a790d62bde6bdb">More...</a><br /></td></tr>
<tr class="separator:aa8175190df2ece4526a790d62bde6bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162feb110d9ae487a9b01e8c097843fb"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#a162feb110d9ae487a9b01e8c097843fb">readBinary</a> (void *const data, std::size_t size)</td></tr>
<tr class="memdesc:a162feb110d9ae487a9b01e8c097843fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads binary data from stream which is on top.  <a href="#a162feb110d9ae487a9b01e8c097843fb">More...</a><br /></td></tr>
<tr class="separator:a162feb110d9ae487a9b01e8c097843fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc74346daffb308c276d5205a1957bf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#acc74346daffb308c276d5205a1957bf3">skipData</a> (std::size_t size)</td></tr>
<tr class="memdesc:acc74346daffb308c276d5205a1957bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discards size bytes from the input stream.  <a href="#acc74346daffb308c276d5205a1957bf3">More...</a><br /></td></tr>
<tr class="separator:acc74346daffb308c276d5205a1957bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7603cb01a87d17de3094c0517445c325"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#a7603cb01a87d17de3094c0517445c325">checkIfMaxSize</a> (std::size_t size, std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a7603cb01a87d17de3094c0517445c325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if by adding size bytes limit for max copied data is hit.  <a href="#a7603cb01a87d17de3094c0517445c325">More...</a><br /></td></tr>
<tr class="separator:a7603cb01a87d17de3094c0517445c325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a644e79ecf090eb172ec41acc1c714"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#a81a644e79ecf090eb172ec41acc1c714">readToOtherStream</a> (std::size_t size, std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a81a644e79ecf090eb172ec41acc1c714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads size bytes from the input stream and copies them to other stream.  <a href="#a81a644e79ecf090eb172ec41acc1c714">More...</a><br /></td></tr>
<tr class="separator:a81a644e79ecf090eb172ec41acc1c714"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used as an adapter to queue of streams. </p>
<p>Two streams are managed. Main stream can be used only for reading and reading position can move only forward. Position of reading for second stream can be moved freely. For second stream queue of start and end positions is kept. New <a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html" title="Struct to keep position of start and end in stream. ">StreamPos</a> can be added when last <a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html" title="Struct to keep position of start and end in stream. ">StreamPos</a> was not yet read fully. When StreamPos::end for top <a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html" title="Struct to keep position of start and end in stream. ">StreamPos</a> is reached reading from next <a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html" title="Struct to keep position of start and end in stream. ">StreamPos</a> is continued. If there are no <a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html" title="Struct to keep position of start and end in stream. ">StreamPos</a> on the queue data is read from main stream.</p>
<p>Additional functions for copying data from one stream to the other are provided (<a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#a81a644e79ecf090eb172ec41acc1c714" title="Reads size bytes from the input stream and copies them to other stream. ">readToOtherStream()</a>). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adfec726f8f400ba024ed0571b322ce5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfec726f8f400ba024ed0571b322ce5f">&#9670;&nbsp;</a></span>StreamAdapter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cereal::extendable_binary_detail::StreamAdapter::StreamAdapter </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::stringstream &amp;&#160;</td>
          <td class="paramname"><em>sharedObjectStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>maxBytesInSharedStream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct new object with main and secondary stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>main reading stream </td></tr>
    <tr><td class="paramname">sharedObjectStream</td><td>secondary stream for which new reading positions could be given </td></tr>
    <tr><td class="paramname">maxBytesInSharedStream</td><td>max size of data copied to other stream in <a class="el" href="classcereal_1_1extendable__binary__detail_1_1StreamAdapter.html#a81a644e79ecf090eb172ec41acc1c714" title="Reads size bytes from the input stream and copies them to other stream. ">readToOtherStream()</a> method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7603cb01a87d17de3094c0517445c325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7603cb01a87d17de3094c0517445c325">&#9670;&nbsp;</a></span>checkIfMaxSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cereal::extendable_binary_detail::StreamAdapter::checkIfMaxSize </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if by adding size bytes limit for max copied data is hit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>additional size bytes to read </td></tr>
    <tr><td class="paramname">stream</td><td>Stream used for data copying Throws <a class="el" href="structcereal_1_1Exception.html" title="An exception class thrown when things go wrong at runtime. ">Exception</a> if limit would be hit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8175190df2ece4526a790d62bde6bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8175190df2ece4526a790d62bde6bdb">&#9670;&nbsp;</a></span>pushReadingPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cereal::extendable_binary_detail::StreamAdapter::pushReadingPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcereal_1_1extendable__binary__detail_1_1StreamPos.html">StreamPos</a> &amp;&#160;</td>
          <td class="paramname"><em>streamPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pushes new reading position on the stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamPos</td><td>new reading pos, saves reference which has to be valid for whole object lifetime Throws if not enough bytes are read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a162feb110d9ae487a9b01e8c097843fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162feb110d9ae487a9b01e8c097843fb">&#9670;&nbsp;</a></span>readBinary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t cereal::extendable_binary_detail::StreamAdapter::readBinary </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads binary data from stream which is on top. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>address to read to </td></tr>
    <tr><td class="paramname">size</td><td>size of data to read Size has to be less or equal to data available at the current stream position. That is:<ul>
<li>If using streamPos on queue - end of current streamPos</li>
<li>If using mainStream - end of mainStream Throws if not enough bytes are read. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81a644e79ecf090eb172ec41acc1c714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a644e79ecf090eb172ec41acc1c714">&#9670;&nbsp;</a></span>readToOtherStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cereal::extendable_binary_detail::StreamAdapter::readToOtherStream </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads size bytes from the input stream and copies them to other stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes to read and copy </td></tr>
    <tr><td class="paramname">stream</td><td>Stream to copy data to Throws <a class="el" href="structcereal_1_1Exception.html" title="An exception class thrown when things go wrong at runtime. ">Exception</a> if not enough bytes are read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc74346daffb308c276d5205a1957bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc74346daffb308c276d5205a1957bf3">&#9670;&nbsp;</a></span>skipData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cereal::extendable_binary_detail::StreamAdapter::skipData </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Discards size bytes from the input stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes of data Throws if not enough bytes are read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/breiker/code/git/cereal_fwd_github/include/cereal/details/<a class="el" href="extendable__binary__details_8hpp_source.html">extendable_binary_details.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 14 2017 11:40:29 for cereal_fwd by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42360142-1', 'uscilab.github.io');
  ga('send', 'pageview');
</script>
</body>
</html>
